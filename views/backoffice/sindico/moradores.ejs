<!DOCTYPE html>
<html lang="pt-br">

<head>
  <%- include('../../includes/head', {titulo: titulo}) %>

  <link rel="stylesheet" href="/css/backoffice/layout.css">
  <link rel="stylesheet" href="/css/backoffice/sindicoMoradores.css">
</head>

<body>
  <%- include('../../includes/backoffice/header') %>
  <%- include('../../includes/backoffice/aside') %>

  <div class="container-flex">
    <main class="conteudo container-flex justify-content-center">
      <h1 class="col-md-12">Gerenciamento de Moradores</h1>





      <div class="submenu row justify-content-center justify-content-md-center">

        <button type="button" class="btn col-4 col-md-auto" data-toggle="modal" data-target="#staticBackdrop">Lista de
          moradores</button>

        <button type="button" class="btn col-4 col-md-auto" data-toggle="modal"
          data-target="#staticBackdrop">Novo cadastro</button>
        <!-- <button class="btn col-4 col-md-auto">Mudanças</button>

        <button class="btn col-4 col-md-auto">Alterações</button> -->
      </div>




      <table class="table table-striped justify-content-center">

        <thead class="tituloTabela justify-content-center">
          <tr>
            <th class="thTitulo nome">Lista de moradores</th>
            <th class="thTitulo"></th>
            <th class="thTitulo vazio"></th>
            <th class="thTitulo vazio"></th>
            <th class="thTitulo filtrar"><i class="fas fa-search"></i> Filtrar</th>
          </tr>
        </thead>
        <thead class="justify-content-center">
          <tr>
            <th scope="col">Nome</th>
            <th scope="col" id="bloco">Bloco</th>
            <th scope="col" id="andar">Andar</th>
            <th scope="col" id="ap">Ap</th>
            <th scope="col" id="tipo">Tipo</th>
          </tr>
        </thead>
        <tbody>
          <% result.forEach(result => {  %>
          <tr value="<%= result.id %>">
            
            <th scope="row" class="nome"> <%= result.nome %></th>
            <td id="bloco"> <%= result.bloco %></td>
            <td id="andar"> <%= result.andar %></td>
            <td id="ap"> <%= result.apartamento %></td>
            <td> <button class="acoes" type="button" value="" ><i class="fas fa-user-edit"></i></button>
              <button class="acoes" type="button" value="" ><i class="fas fa-trash-alt"></i></button>
              

            </td>

            
          </tr>
          <% }); %>  
          
  
        </tbody>
      </table>





  </div>




  <!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-backdrop="static" tabindex="-1" role="dialog"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">
            <h2>Cadastro de novo Morador</h2</h5> <button type="button" class="close" data-dismiss="modal"
                aria-label="Close">
              <span aria-hidden="true">&times;</span>
              </button>
        </div>
        <div class="modal-body">


          <form method="POST" action="/backoffice/sindico/moradores" enctype="multipart/form-data">

            <div class="row">
              <div class="col">
                <label for="nome">Nome:</label>
                <input required="required" id="nome" name="nome" type="text" class="form-control" placeholder="Nome completo">
              </div>

            </div>
            <div class="row">
              <div class="col">
                <label for="rg">RG:</label>
                <input id="rg" name="rg" type="number" class="form-control" placeholder="RG">
              </div>
              <div class="col">
                <label for="cpf">CPF:</label>
                <input required="required" id="cpf" name="cpf" type="number" class="form-control" placeholder="CPF">
              </div>
            </div>
            <div class="row">
              <div class="col">
                <label for="email">Email:</label>
                <input required="required" id="email" name="email" type="email" class="form-control" placeholder="morador@email.com.br">
              </div>
              <div class="col">
                <label for="celular">Contato:</label>
                <input id="celular" name="celular" type="text" class="form-control" placeholder="(XX)XXXXX-XXXX">
              </div>
            </div>

            <div class="row">
              <div class="col">
                <label for="bloco">Bloco:</label>
                <select id="bloco" name="bloco" class="form-control">
                  <option disabled selected>Informe</option>
                  <% resultBloco.forEach(resultBloco => {  %>
                  <option value="<%= resultBloco.id %>" ><%= resultBloco.bloco %></option>
                  <% }); %> 
                  
                </select>
              </div>
              
              <div class="col">
                <label for="ap">Ap</label>
                <select id="ap" name="ap" class="form-control">
                  <option disabled selected>Informe</option>
                  <% resultApartamento.forEach(resultApartamento => {  %>
                    <option value="<%= resultApartamento.id %>" ><%= resultApartamento.apartamento %></option>
                    <% }); %> 
                </select>
              </div>
            </div>
              
           <div style="margin:10px" class="row">
                <div class="col">
                  <label for="fotoMorador">Foto</label>
                <input type="file" class="form-control file" name="fotoMorador" id="fotoMorador">
               </div> 
             <!--   <div style="margin:5px" class="row custom-file">
                <input type="file" class="custom-file-input" name="fotoMorador" id="fotoMorador">
                <label class="custom-file-label" for="customFile">Escolher foto</label>
              </div> -->
              
              
            </div>          

          
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
              <button type="submit" class="btn btn-primary">Gravar</button>
            </div>
          </form>


        </div>
      </div>
    </div>
  </div>



  </main>

  <%- include('../../includes/scriptJS')%>

</body>

</html>